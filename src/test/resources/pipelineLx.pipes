Properties: {

    author: "NGSPipes Team"

    description: "Study case 1"

    version:  "1.0"

    documentation: ["http://ngspipes.readthedocs.io/en/latest/RunningExamples.html"]

}



Repositories: [

    ToolRepository repo: {

         location: "/home/osboxes/Desktop/resources/tools_support"

    }

]



Outputs: {

    output1: trimmomatic[outputFile]

    output2: blastx[outFile]

}



Steps: [

    Step trimmomatic: {

        exec: repo[Trimmomatic][trimmomatic]

        execution_context: "DockerConfig"

        inputs: {

            mode: "SE"

            quality: "phred33"

            inputFile1: "/home/osboxes/Desktop/Inputs/caseStudy1/ERR4060260mb.fastq"

            output: "ERR406040.filtered.fastq"

            fastaWithAdaptersEtc: "/home/osboxes/Desktop/Inputs/caseStudy1Minimal/TruSeq3-SE.fa"

            seedMismatches: 2

            palindromeClipThreshold: 30

            simpleClipThreshold: 10

            windowSize: 4

            requiredQuality: 15

            leadingQuality: 3

            trailingQuality: 3

            minlenLength: 36

        }

    }

    Step blastx: {

        exec: repo[Blast][blastx]

        execution_context: "DockerConfig"

        inputs: {

            db: makeblastdb[outFileName]

            query: velvetg[contigsFa]

            out: params.blastx_out

        }

    }

    Step velveth: {

        exec: repo[Velvet][velveth]

        execution_context: "DockerConfig"

        inputs: {

            outputDirectory: "velvetdir"

            hashLength: 21

            fileFormat: "fastq"

            filename: trimmomatic[outputFile]

        }

    }

    Step velvetg: {

        exec: repo[Velvet][velvetg]

        execution_context: "DockerConfig"

        inputs: {

            outputDirectory: velveth[outDir]

            covCutoff: 5

        }

    }

    Step makeblastdb: {

        exec: repo[Blast][makeblastdb]

        execution_context: "DockerConfig"

        inputs: {

            dbtype: "prot"

            out: "allrefs"

            title: "allrefs"

            in: "/home/osboxes/Desktop/Inputs/caseStudy1Minimal/allrefs.fna.pro"

        }

    }

]