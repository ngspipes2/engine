Properties: {

    author: "NGSPipes Team"

    description: "Study case 1"

    version:  "1.0"

    documentation: ["http://ngspipes.readthedocs.io/en/latest/RunningExamples.html"]

}



Repositories: [

    ToolRepository repo: {

        location: "https://github.com/ngspipes2/tools_support"

        config: {
            username: "NGSPipeShare"
            token: "a8e78f2a902b35dcf9f8bf9686fac2c3ae9df19e"
        }

    }

]



Outputs: {}



Steps: [

    Step trimmomatic: {

        exec: repo[Trimmomatic][trimmomatic]

        execution_context: "DockerConfig"

        inputs: {

            mode: "SE"

            quality: "phred33"

            inputFile1: "E:\\Desktop\\NGSPipesTeam\\Demo\\Inputs\\caseStudy1Minimal\\ERR406040.fastq"

            output: "ERR406060mb.filtered.fastq"

            fastaWithAdaptersEtc: "E:\\Desktop\\NGSPipesTeam\\Demo\\Inputs\\caseStudy1Minimal\\TruSeq3-SE.fa"

            seedMismatches: 2

            palindromeClipThreshold: 30

            simpleClipThreshold: 10

            windowSize: 4

            requiredQuality: 15

            leadingQuality: 3

            trailingQuality: 3

            minlenLength: 36

        }

    }

    Step blastx: {

        exec: repo[Blast][blastx]

        execution_context: "DockerConfig"

        inputs: {

            db: makeblastdb[outFileName]

            query: velvetg[contigsFa]

            out: params.blastx_out

        }

    }

    Step velveth: {

        exec: repo[Velvet][velveth]

        execution_context: "DockerConfig"

        inputs: {

            outputDirectory: "velvetdir"

            hashLength: 21

            fileFormat: "fastq"

            filename: trimmomatic[outputFile]

        }

    }

    Step velvetg: {

        exec: repo[Velvet][velvetg]

        execution_context: "DockerConfig"

        inputs: {

            outputDirectory: velveth[outDir]

            covCutoff: 5

        }

    }

    Step makeblastdb: {

        exec: repo[Blast][makeblastdb]

        execution_context: "DockerConfig"

        inputs: {

            dbtype: "prot"

            out: "allrefs"

            title: "allrefs"

            in: "E:\\Desktop\\NGSPipesTeam\\Demo\\Inputs\\caseStudy1Minimal\\allrefs.fna.pro"

        }

    }

]